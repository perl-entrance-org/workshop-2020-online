# Perl 入学式 #2 復習問題

Wandbox を使う場合には、問題文の「ターミナルから」とあるところを Wandbox の "Stdin（標準入力）" から、と読み替えてください。

解答例は `ansewr/` フォルダにサポーターごとに格納してあります。

Perl のモットーは TMTOWTDI（やり方はいっぱいある）、同じ問題で同じ答えなのに様々な書き方ができます。

## 四則演算

1. number_magic.pl

   以下のプログラムを作成して、結果を確認しましょう。

   1. 変数 `$foo` に 10 を代入する
   1. スカラー変数`$hoge`に `$foo` を代入する
   1. `$hoge` に 1 を加える
   1. `$hoge` に 2 を掛ける
   1. `$hoge` に 6 を加える
   1. `$hoge` を 2 で割る
   1. `$hoge` から `$foo` を引く
   1. `$hoge` を表示して改行する

   `4` が表示されれば正解です。`$foo` に最初に代入する数値を変えて試してみましょう。

2. second.pl

   150 秒は何分何秒になるか、1 行目に分、2 行目に秒を表示するプログラムを作成しましょう。

   分を格納する変数 `$min` と、秒を格納する変数 `$sec` を用意して、それぞれで計算してみましょう。

   1 行目に `2` , 2 行目に `30` と表示されれば正解です。
   小数点の切り捨てには `int` 関数を使うと便利です。

   ```perl
   my $circle = int(3.1415);
   print $circle . "\n";    # 3 のみ表示される
   ```

3. power.pl

   「10 の 2 乗」 × 「10 の 3 乗」 - 「10 の 5 乗」 を表示して改行するプログラムを作成しましょう。

   変数名の指定はしません。変数を自分で用意して、計算してみましょう。

   `0` と表示されれば正解です。

## 文字列の連結

1. scalar_concat.pl

   以下のように動くプログラムを作成しましょう。

   - スカラー変数 `$foo` に 'P' を代入する
   - スカラー変数 `$bar` に 'e' を代入する
   - スカラー変数 `$buz` に 'r' を代入する
   - スカラー変数 `$hoge` に 'l' を代入する
   - 最後に全てのスカラー変数を使って `Perl` と表示して改行し終了する

2. shouwa.pl

   西暦を昭和に変換するプログラムを作成し、今年 2020 年は昭和何年になるか表示してください。

   1. 大正最後の年は西暦 1925 年とし、変数 `$last_taisho` に数字 `1925` を格納します

   2. 西暦と昭和の差はプログラム内で計算すること

   3. 以下の形式で表示する

      > 西暦 2020 年は昭和 95 年です

3. register.pl

   ドリンク販売マシーンをつくろう

   1. 下のプログラムをコピペして、足りないところを追加して完成させよう。

   2. 四則計算、変数、標準入力、if 文を駆使しましょう。

   3. 追加するプログラムは、注文（何杯購入か）を聞く、店内利用かテイクアウトを聞く、消費税を計算する、合計金額を出力する部分です。

   ```perl
   #!/usr/bin/env perl
   use strict;
   use warnings;

   print "ドリンク1杯300円です。いくつ注文しますか？\n>>>";
   # ここにプログラムを追加しよう
   print "ドリンクは '店内' 'テイクアウト' どちらでしょうか？\n(店内 or テイクアウト を入力)>>>";
   # ここにプログラムを追加しよう
   # 店内利用は10%、テイクアウトは8%の消費税率で計算しましょう。

   # <<税込み金額>>の部分に計算結果を出力できるようにしよう。
   print "お会計額は <<税込み金額>> 円です。\n";

   ```

---

## 標準入力

1. stdin.pl

   ターミナルから文字を入力し、その文字を表示して改行するプログラムを作成しましょう。

2. stdin_twice.pl

   ターミナルから文字を入力し、その文字を **2 回** 連続して表示し、改行するプログラムを作成しましょう。

3. stdin_dialogue.pl （ターミナル環境のみ。Wandbox では不可）

   以下のように動くプログラムを作成しましょう

   1. ターミナルからプログラムを起動すると、 `Please tell Your Name ? > ` と表示し、入力を受け付ける

   2. 名前を入力し、Enter キーを押す

   3. 名前の入力が終わると改行し、 `What time is it now ? > ` と表示し、入力を受け付ける

   4. 現在時刻を入力し、Enter キーを押す

   5. 以下のような結果が 2 行で出力される

      ```
      You are 入力した名前 .
      It is 現在時刻 o'clock.
      ```

4. fight.pl （ターミナル環境のみ。Wandbox では不可）

   ロールプレイングゲームの戦闘場面風のプログラム`fight.pl`を作成しよう。

   以下のサンプルプログラムをコピーペーストし、不足する部分のプログラムを追加して完成させましょう。

   "敵があらわれた"メッセージに続いて、プレーヤーの行動を標準入力`<STDIN>`から入力する部分を追加しよう。

   入力された行動を、"あなたは ●● を選んだ！"と画面に表示させよう。

   ```perl
   print "敵があらわれた！どうする？\n";
   print "たたかう, まほう, どうぐ, にげる\n";
   print ">>";

   # ここにプログラムを追加しよう

   ```

5. bot.pl （ターミナル環境のみ。Wandbox では不可）

   メッセージアプリの bot（メッセージを送ると自動で応答するプログラム）風のプログラム`bot.pl`を作成しよう。
   bot からの問いかけに答えると疑似的な会話の様になる様にプログラムを完成させましょう。

   以下のサンプルプログラムをコピーペーストし、不足する部分のプログラムを追加して完成させましょう。

   問いかけられたメッセージに答えると、その答えを利用して返事を返すようにしよう。

   ```perl
   #!/usr/bin/env perl
   use strict;
   use warnings;

   # << >>で囲まれた部分は、キーボードから入力された値を出力できるようにしよう。

   print "ニックネームを教えて!\n>>>";
   # ここにプログラムを追加しよう
   print " <<ニックネーム>> さん、こんにちは!調子はどう？\n>>>";
   # ここにプログラムを追加しよう
   print "調子は <<入力した返事>> なんだね！\n"
   print "明日のスケジュールを教えて？\n>>>"
   # ここにプログラムを追加しよう
   print " <<明日の予定>> がんばってね！\nそれじゃあまたね、バイバイ！\n>"
   ```

## if 文

1. even_or_odd.pl

   標準入力により数値を 1 つ読み込み、その数値が偶数なら"even"、奇数なら"odd" という文字を出力する `even_or_odd.pl` を作成しましょう。

2. lexical_order.pl

   標準入力を 2 回利用して文字列を 2 つ読み込み、2 つの文字列を辞書に登場する順に出力する `lexical_order.pl` を作成しましょう。

   同じ文字列の場合には "equal" と表示してください。

3. logical_operators.pl

   標準入力により数値を 1 つ読み込み、その数字が「2 でも 3 でも割り切れる」なら"Multiple of six"という文字列を出力する `logical_operators.pl` を作成しましょう。

4. leap_year.pl

   4 年に 1 回訪れる「うるう年（leap year）」は、以下の条件を満たす年です。(https://www.nao.ac.jp/faq/a0306.html)

   1. 西暦年号が 4 で割り切れる年をうるう年とする

   2. 例外として、西暦年号が 100 で割り切れて 400 で割り切れない年は平年とする

   例えば、西暦 2000 年はうるう年ですが、西暦 2100 年はうるう年ではありません。

   この条件を元に、標準入力から入力した数字（年）が、うるう年の場合には "leap year" と表示し、うるう年ではない場合には "normal year" と表示する `leap_year.pl` を作成しましょう。

5. seven.pl

   トランプの札判定プログラムを改造してみよう。

   以下のサンプルプログラムは条件式に != や == 演算子を利用しています。 != と == 演算子を使わない条件式に書き換えてみましょう。

   書き換えができたら、 \$mycard 変数の値を色々変えて正しく動くか、テストしてみましょう。

   ```perl
   #!/usr/bin/env perl
   use strict;
   use warnings;

   # 1から13のトランプカード1枚の数字を変数に格納します。
   my $mycard = 10;

   # if文の()の中の条件式を != を使わずに書き換えてみよう。
   if ($mycard != 7){
   print "カードの数字は 7 以外です。\n";
   }

   # if文の()の中の条件式を == を使わずに書き換えてみよう。
   if ($mycard == 7){
     print "カードの数字は 7 です。\n";
   }

   ```

6. color_height.pl

   "事前に与えられた情報"を判定するプログラムを書こう。

   事前に設定された情報として、$tshirt変数に着ているTシャツの色、$height 変数に身長の情報が格納されています。

   if 文の<<条件式>>を書いて、print 文の通り正しく判定される様に条件式を書いてみよう。

   ```perl
   #!/usr/bin/env perl
   use strict;
   use warnings;

   # 赤いシャツを着た身長160cnの人
   my $tshirt = "red";
   my $height = 160;

   if (<<条件式>>){
     print "赤いTシャツを着ている身長180cm未満の人です。\n";
   }

   if (<<条件式>>){
     print "青いTシャツを着ている、または身長180cm未満の人です。\n";
   }

   if (<<条件式>>){
     print "赤いTシャツ又は青いTシャツを着ている、身長180cm以上の人です。\n";
   }
   ```

```

```
